# Activation du moteur de réécriture
RewriteEngine On

# Redirections permanentes (308) afin de préserver la méthode HTTP et le corps de la requête
# Ancien endpoint POST du microcontrôleur → nouveau contrôleur
RewriteRule ^post-ffp3-data\.php$ /post-data [R=308,L]

# Ancien endpoint d’export CSV → nouveau contrôleur
RewriteRule ^export-data\.php$ /export-data [R=308,L]

# Ancienne page publique legacy → nouvelle route objet
RewriteRule ^ffp3-data\.php$ /aquaponie [R=308,L] 

# -----------------------------------------------------------------------------
# Router générique : toute requête qui ne correspond pas à un fichier ou dossier
# existant est orientée vers le front-controller public/index.php
# -----------------------------------------------------------------------------
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ public/index.php [L] 